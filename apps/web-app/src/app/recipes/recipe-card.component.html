<div class="card">
    <div class="card-body d-flex justify-content-between align-items-center">
        <p class="card-title d-flex align-items-center gap-3 mb-0">
            @if (recipe().hasOneOutput) {
                {{ recipe().outputQuantity }} x {{ recipe().label() }}
            } @else {
                {{ recipe().multipleOutputsLabel }}
            }
        </p>
        <div class="card-text d-flex align-items-center gap-3">
            <p class="mb-0 d-flex align-items-center gap-2 font-monospace">
                <span class="text-end">{{ recipe().profit(recipesService.getAll() | async) }}</span>
                <cml-icon cml-coins-icon />
                <span>{{ recipe().outputValue }}</span>
            </p>
            <p class="mb-0 d-flex align-items-center gap-2 font-monospace">
                <cml-icon cml-weight-hanging-icon />
                <span>{{ recipe().outputWeight }}</span>
            </p>
            <p class="mb-0 d-flex align-items-center gap-2 font-monospace">
                <cml-icon cml-stopwatch-icon />
                <span>{{ recipe().craftingTime }}</span>
            </p>
            <button type="button" class="btn btn-dark" (click)="onToggle()">
                @if (toggled()) {
                    <cml-icon cml-chevron-up-icon />
                } @else {
                    <cml-icon cml-chevron-down-icon />
                }
            </button>
        </div>
    </div>
    <div class="collapse" [class.card-footer]="toggled()" [class.show]="toggled()">
        <div class="d-flex align-items-center gap-3">
            @for (input of recipe().inputs; track input.item.id) {
                <span class="rounded-pill badge text-bg-secondary">{{ input.quantity }} x {{ input.item.name }}</span>
            }
        </div>
    </div>
</div>
